<div class="my-3" *ngIf="shares && shares.length > 0; else showThis">
  <p-table  [columns]="cols"  [value]="shares"
            editMode="row" dataKey="symbol" [paginator]="true" [rows]="7">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th class="text-center" *ngFor="let col of columns" [pSortableColumn]="col.field" [ngStyle]="{'width': col.width}">
          {{col.header}}
          <p-sortIcon [field]="col.field"></p-sortIcon>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-stock let-editing="editing" let-ri="rowIndex">
      <tr [pEditableRow]="stock">
        <td class="text-center">{{stock.ticker}}</td>
        <td class="text-left">{{stock.name}}</td>
        <td class="text-center">{{stock.price}}</td>
        <td class="text-center"
            [ngClass]="getChange(stock.percentChange) > 0 ? 'text-success' : 'text-danger'">
          {{stock.percentChange}}
          <i  *ngIf="getChange(stock.percentChange) > 0"  class="pi pi-arrow-up"
              [style]="{'font-size': '24px', 'width': '32px'}"> </i>
          <i  *ngIf="getChange(stock.percentChange) < 0"  class="pi pi-arrow-down"
              [style]="{'font-size': '24px', 'width': '32px'}"> </i>
        </td>
        <td class="text-center">
          <p-cellEditor>
            <ng-template pTemplate="input">
              <label>
                <input pInputText  class="w-75" type="number" [(ngModel)]="stock.buy">
              </label>
            </ng-template>
            <ng-template pTemplate="output">
              {{stock.buy}}
            </ng-template>
          </p-cellEditor>
        </td>
        <td class="text-center">
          <p-cellEditor>
            <ng-template pTemplate="input">
              <label>
                <input pInputText class="w-75" type="number" [(ngModel)]="stock.shares">
              </label>
            </ng-template>
            <ng-template pTemplate="output">
              {{stock.shares}}
            </ng-template>
          </p-cellEditor>
        </td>
        <td class="text-center">
          <button *ngIf="!editing" pButton type="button" pInitEditableRow icon="pi pi-pencil" class="ui-button-info" (click)="onRowEditInit(stock)"></button>
          <button *ngIf="!editing" pButton type="button" icon="pi pi-times" class="ui-button-danger" style="margin-left: .5em" (click)="deleteStock(stock)"></button>
          <button *ngIf="editing" pButton type="button" pSaveEditableRow icon="pi pi-check" class="ui-button-success" style="margin-right: .5em" (click)="onRowEditSave(stock)"></button>
          <button *ngIf="editing" pButton type="button" pCancelEditableRow icon="pi pi-times" class="ui-button-danger" (click)="onRowEditCancel(stock, ri)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>


<ng-template #showThis>
  <div class="container text-center">
    <h3>Add Stocks To Portfolio</h3>
  </div>
</ng-template>


